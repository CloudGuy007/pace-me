<div class="bg-one">
  <div class="jumbotron" ng-class="{'fullview': !user}">
    <div class="container">
      <div class="row header text-center">
        <h2>
        search for runners nearby
      </h2>

        <div class="col-xs-12" ng-if="!loggedIn">
          <input type="text" placeholder="enter zip code" id="listInput" maxlength="5" ng-model="guest.zip" ng-change="getGuestMatches(guest.zip)">
          <br>
          <button class="btn green" ng-click="">submit</button>
        </div>

        <div class="col-xs-12" ng-show="loggedIn">
          <div class="">
            <!-- <select class="" ng-options="item.value as item.name for item in items" ng-model="selectedRadius" ng-change="newRadius()">
        </select> -->

        <select class="" ng-model="selectedRadius" ng-change="newRadius(selectedRadius)">
          <option value="10" selected>within 10 miles</option>
          <option value="15">within 15 miles</option>
          <option value="20">within 20 miles</option>
          <option value="30">within 30 miles</option>
          <option value="40">within 40 miles</option>
          <option value="50">within 50 miles</option>
        </select>

        <!-- Message to show if 5 or LESS users apear -->
        <p ng-show="filtered.length <= 5 && selectedRadius != '50'">Try a larger radius!</p>

        <select name="" ng-model="selectedGender">
          <option value="both">Both</option>
          <option value="female">Female</option>
          <option value="male">Male</option>
        </select>

        <select name="" ng-model="selectedAgeRange">
          <option value="all">All Ages</option>
          <option value="18-25">18 - 25</option>
          <option value="25-30">25 - 30</option>
          <option value="30-35">30 - 35</option>
          <option value="35-40">35 - 40</option>
          <option value="40-45">40 - 45</option>
          <option value="45-55">45 - 55</option>
          <option value="50"> > 55</option>
        </select>



            <h4>Displaying users within {{selectedRadius}} miles of {{runner.zipCode}}.</h4>


          </div>

        </div>
      </div>
    </div>
  </div>

</div>

<div class="container">
  <div class="row">

    <div class="col-xs-12 col-sm-4 col-md-3 animate-repeat"
        ng-repeat="runner in runners track by $index">
      <div class="card card-list cursor list"  ng-click="open()">
      <div ng-if="!loggedIn" class="runner">
        <div class="col-xs-12">
          <h3>{{runner.firstName}}<h3>
          <div class="card-img"><img class="blur" ng-src="{{runner.photo}}" width="100%"></div>
        </div>
        <div class="col-xs-12 list-info">


              <div>{{runner.dist}} miles away</div>
              <div>Mile Pace: {{runner.milePace}}</div>
            </div>
            <!-- <div class="new-view">
              <i lass="fa fa-arrow-circle-right fa-3x black cursor" aria-hidden="true"></i>
            </div> -->
          </div>
          <!--end if !loggedIn-->

      <div ng-if="loggedIn" class="runner">
        <div class="col-xs-12">
          <h3 >{{runner.firstName}} {{runner.lastName | limitTo:1}}.</h3>

              <h4>
            <span class="fa fa-mars" aria-hidden="true" ng-show="runner.gender === 'male'"></span>
            <span class="fa fa-venus" aria-hidden="true" ng-show="runner.gender === 'female'"></span>
            |
            {{runner.age}}

          </h4>
              <br>
              <div class="card-img"><img ng-src="{{runner.photo}}" width="100%"></div>
              <br>
              <br>
              <div class="col-xs-12">
                <div class="gray"><strong>Location:</strong> {{runner.dist | distance}}</div>
                <br>
                <div class="gray"><strong>Mile Pace:</strong> {{runner.milePace | minutes2Seconds | date:'mm:ss'}}
                  <br>({{ runner.milePace | paceDiff:loggedInUser.milePace }})</div>
                <br>
                <div class="gray" ng-if="runner.runEvent !== 'undefined'"><strong>Weekly Mileage:</strong> {{runner.wklyMileage}}</div>
                <br>
                <div class="gray" ng-if="runner.runEvent !== 'undefined'"><strong>Training for:</strong> {{runner.runEvent}}</div>

              </div>
            </div>

          </div>
          <!--end if loggedIn-->
        </div>
      </div>
      <!--end card-->
    </div>
    <!--end row-->
  </div>
  <!--end container-->
</div>


<footer-view></footer-view>


<!-- Modal -->

<script type="text/ng-template" id="listModalContent.html">
  <div class='list-modal'>
    <h3 class="modal-title black">You need to login to view profile</h3>
    <button class="btn btn-primary" type="button" ng-click="login()">Login</button>
    <button class="btn btn-primary" type="button" ng-click="register()">Register</button>
  </div>
</script>
