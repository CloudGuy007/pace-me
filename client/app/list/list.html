<div class="bg-one">
<div class="jumbotron" ng-class="{'fullview': !user}">
  <div class="container">
    <div class="row header text-center">
      <h2>
        search for runners nearby
      </h2>

      <div class="col-xs-12" ng-if="!loggedIn">
        <input type="text" placeholder="enter zip code" id="listInput" maxlength="5" ng-model="guest.zip" ng-change="getGuestMatches(guest.zip)">
        <br>
        <button class="btn green" ng-click="">submit</button>
      </div>

      <div class="col-xs-12" ng-show="loggedIn">
        <div class="">
        <!-- <select class="" ng-options="item.value as item.name for item in items" ng-model="selectedRadius" ng-change="newRadius()">
        </select> -->

        <select class="" ng-model="selectedRadius" ng-change="newRadius(selectedRadius)">
          <option value="10" selected>within 10 miles</option>
          <option value="15">within 15 miles</option>
          <option value="20">within 20 miles</option>
          <option value="30">within 30 miles</option>
          <option value="40">within 40 miles</option>
          <option value="50">within 50 miles</option>
        </select>


        <h4>Displaying users within {{selectedRadius}}.</h4>


      </div>

      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-4 col-md-3" ng-repeat="runner in runners | orderBy: sortMilePace track by $index">
      <div class="card card-list cursor list"  ng-click="viewProfile(runner)">
      <div ng-if="!loggedIn" class="runner">
        <div class="col-xs-12">
          <h3>{{runner.firstName}}<h3>
          <div class="card-img"><img class="blur" ng-src="{{runner.photo}}" width="100%"></div>
        </div>
        <div class="col-xs-12 list-info">

          <div>{{runner.dist}} miles away</div>

          <div>Mile Pace: {{runner.milePace}}</div>

        </div>
        <div class="new-view" ui-sref="register.initial">
          <i class="fa fa-arrow-circle-right fa-3x black cursor" aria-hidden="true"></i>
        </div>
      </div>
      <!--end if !loggedIn-->

      <div ng-if="loggedIn" class="runner">
        <div class="col-xs-12">
          <h3 >{{runner.firstName}} {{runner.lastName}}</h3>

          <h4>
            <span class="fa fa-mars" aria-hidden="true" ng-show="runner.gender === 'male'"></span>
            <span class="fa fa-venus" aria-hidden="true" ng-show="runner.gender === 'female'"></span>
            |
            {{runner.age}}

          </h4>
          <br>
          <div class="card-img"><img ng-src="{{runner.photo}}" width="100%"></div>
          <br><br>
          <div class="col-xs-12">
            <div class="gray"><strong>Location:</strong> {{runner.dist | distance}}</div>
            <br>
            <div class="gray"><strong>Mile Pace:</strong> {{runner.milePace | minutes2Seconds | date:'mm:ss'}}
              <br>({{ runner.milePace | paceDiff:loggedInUser.milePace }})</div>
            <br>
            <div class="gray" ng-if="runner.runEvent !== 'undefined'"><strong>Weekly Mileage:</strong> {{runner.wklyMileage}}</div>
            <br>
            <div class="gray" ng-if="runner.runEvent !== 'undefined'"><strong>Training for:</strong> {{runner.runEvent}}</div>

          </div>
        </div>

      </div>
      <!--end if loggedIn-->
    </div>
    </div>
    <!--end card-->
  </div>
  <!--end row-->
</div>
<!--end container-->
</div>


<script>
  (function() {
    [].slice.call(document.querySelectorAll('select.cs-select')).forEach(function(el) {
      new SelectFx(el);
    });
  })();
</script>


<footer-view></footer-view>
